import{a as l,c as f,d as n,e as p,f as r,h as b,k as y,l as m}from"./chunk-65J3IC6C.js";import{ba as d,ga as _,h as o,q as h}from"./chunk-4TPAJTK6.js";var c=class{constructor(u){Object.assign(this,u)}},D=(()=>{class i{constructor(a){this.db=a,this.__sections=[],this._sections=new h(1),this.sections=()=>this._sections.asObservable(),this.createSection=t=>o(this,null,function*(){try{t.id=(yield f(n(this.db,"data","sections","sections"),t)).id,this.__sections.push(t),this._sections.next(this.__sections)}catch(s){console.error(s)}}),this.updateSection=t=>o(this,null,function*(){try{let s=new c(t);delete s.id,yield m(r(this.db,"data","sections","sections",t.id),Object.assign({},s)),this.__sections[this.__sections.findIndex(e=>e.id===t.id)]=t,this._sections.next(this.__sections)}catch(s){console.error(s)}}),this.deleteSection=t=>o(this,null,function*(){try{yield p(r(this.db,"data","sections","sections",t.id)),this.__sections.splice(this.__sections.findIndex(s=>s.id===t.id),1),this._sections.next(this.__sections)}catch(s){console.error(s)}});try{b(y(n(this.db,"data","sections","sections"))).then(t=>{t.docs.forEach(s=>{let e=new c(s.data());e.id=s.id,this.__sections.push(e)})})}catch(t){console.error(t)}finally{this._sections.next(this.__sections)}}static{this.\u0275fac=function(t){return new(t||i)(_(l))}}static{this.\u0275prov=d({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();export{c as a,D as b};
